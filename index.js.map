{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["// Book Class: Represents a Book\nclass Book {\n  constructor(title, author, isbn) {\n    this.title = title;\n    this.author = author;\n    this.isbn = isbn;\n  }\n}\n\n// UI Class: Handle UI Tasks\nclass UI {\n  static displayBooks() {\n    const books = Store.getBooks();\n\n    books.forEach((book) => UI.addBookToList(book));\n  }\n\n  static addBookToList(book) {\n    const list = document.querySelector('#book-list');\n    const row = document.createElement('tr');\n\n    row.className = 'books-list__item';\n\n    row.innerHTML = `\n      <td>${book.title}</td>\n      <td>${book.author}</td>\n      <td>${book.isbn}</td>\n      <td><a href=\"#\" class=\"delete\">Delete</a></td>\n    `;\n\n    list.appendChild(row);\n  }\n\n  static clearFields() {\n    document.querySelector('#title-field').value = '';\n    document.querySelector('#author-field').value = '';\n    document.querySelector('#isbn-field').value = '';\n  }\n\n  static showAlert(message, className) {\n    const div = document.createElement('div');\n\n    div.className = `alert alert-${className}`;\n    div.appendChild(document.createTextNode(message));\n\n    const wrapper = document.querySelector('#wrapper');\n    const form = document.querySelector('#book-form');\n\n    wrapper.insertBefore(div, form);\n\n    // Vanish in 3 seconds\n    setTimeout(() => div.remove(), 3000);\n  }\n\n  static deleteBook(el) {\n    if (el.classList.contains('delete'))\n      el.parentElement.parentElement.remove();\n  }\n}\n\n// Store Class: Handle Storage\nclass Store {\n  static getBooks() {\n    let books;\n\n    if (localStorage.getItem('books') === null) {\n      books = [];\n    } else {\n      books = JSON.parse(localStorage.getItem('books'));\n    }\n\n    return books;\n  }\n\n  static addBook(book) {\n    const books = Store.getBooks();\n\n    books.push(book);\n\n    localStorage.setItem('books', JSON.stringify(books));\n  }\n\n  static removeBook(isbn) {\n    const books = Store.getBooks();\n\n    books.forEach((book, index) => {\n      if (book.isbn === isbn) books.splice(index, 1);\n    });\n\n    localStorage.setItem('books', JSON.stringify(books));\n  }\n}\n\n// Event: Display Books\ndocument.addEventListener('DOMContentLoaded', UI.displayBooks);\n\n// Event: Add a Book\ndocument.querySelector('#book-form').addEventListener('submit', (e) => {\n  // Prevent actual submit\n  e.preventDefault();\n\n  // Get form values\n  const title = document.querySelector('#title-field').value;\n  const author = document.querySelector('#author-field').value;\n  const isbn = document.querySelector('#isbn-field').value;\n\n  // Validate\n  if (title === '' || author === '' || isbn === '') {\n    UI.showAlert('Please fill in all fields', 'danger');\n  } else {\n    // Instatiate book\n    const book = new Book(title, author, isbn);\n\n    // Add Book to UI\n    UI.addBookToList(book);\n\n    // Add book to store\n    Store.addBook(book);\n\n    // Show success message\n    UI.showAlert('Book Added', 'success');\n\n    // Clear fields\n    UI.clearFields();\n  }\n});\n\n// Event: Remove a Book\ndocument.querySelector('#book-list').addEventListener('click', (e) => {\n  if (e.target.textContent === 'Delete') {\n    // Remove book from UI\n    UI.deleteBook(e.target);\n\n    // Remove book from store\n    Store.removeBook(e.target.parentElement.previousElementSibling.textContent);\n\n    // Show remove message\n    UI.showAlert('Book Removed', 'success');\n  }\n});\n"],"names":["Book","constructor","title","author","isbn","UI","displayBooks","books","Store","getBooks","forEach","book","addBookToList","list","document","querySelector","row","createElement","className","innerHTML","appendChild","clearFields","value","showAlert","message","div","createTextNode","wrapper","form","insertBefore","setTimeout","remove","deleteBook","el","classList","contains","parentElement","localStorage","getItem","JSON","parse","addBook","push","setItem","stringify","removeBook","index","splice","addEventListener","e","preventDefault","target","textContent","previousElementSibling"],"mappings":"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"}